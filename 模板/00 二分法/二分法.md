## 本质

二分的本质是「二段性」而非「单调性」

### leetcode_162

#### 题目

在一个数组中寻找峰值，峰值元素是指其值严格大于左右相邻值的元素。

#### 思路

在确保有解的情况下，我们可以根据当前的分割点mid 与左右元素的大小关系来设定l或者r的移动。

假设当前分割点mid满足关系 `nums[mid]>nums[mid+1]` ，一个简单的想法是`nums[mid]` 可能为峰值，而`nums[mid+1]` 必然不为峰值，于是让`r=mid` 从左半部分继续找峰值

**正确分析**

上诉的做法前提有两个：
- 对于任何数组来说，一定存在解
- 二分不会错过峰值

**证明一，无论何种情况，数组必然存在峰值**

**证明二，对于一个满足nums[x] > nums[x-1]的位置，x的右边一定存在峰值；或对于一个满足nums[x] > nums[x+1]的位置，x的左边一定存在峰值**

至此，我们证明了始终选择大于边界一端机械能二分，可以确保选择的区间一定存在峰值，并受益者二分过程不断逼近峰值位置。

#### 代码
```
int l = 0, r = nums.length - 1;  
while (l < r) {  
    int mid = l + (r - l) / 2;  
    // 中间值去判断大小 锁定二分区间
    if (nums[mid] > nums[mid + 1]) r = mid;  
    else l = mid + 1;  
}  
// 返回r 和返回l 性质是一样的
return r;
```







